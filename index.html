<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/src/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SimpleJS Tauri 应用</title>
    <script>
      window.onerror = function(message, source, lineno, colno, error) {
        console.error('全局错误: ', message, source, lineno, colno);
        const errorEl = document.createElement('div');
        errorEl.style.position = 'fixed';
        errorEl.style.top = '0';
        errorEl.style.left = '0';
        errorEl.style.right = '0';
        errorEl.style.padding = '20px';
        errorEl.style.background = 'red';
        errorEl.style.color = 'white';
        errorEl.style.zIndex = '9999';
        errorEl.style.whiteSpace = 'pre-wrap';
        errorEl.textContent = `错误: ${message}\n位置: ${source}:${lineno}:${colno}`;
        document.body.appendChild(errorEl);
        return true;
      };
    </script>
    <script type="importmap">
      {
        "imports": {
          "@tauri-apps/api/tauri": "/src/js/tauri-mock.js",
          "@tauri-apps/api/window": "/src/js/window-mock.js"
        }
      }
    </script>
    <script type="module" src="/src/main.js"></script>
  </head>

  <body>
    <div id="app"></div>
  </body>
</html>